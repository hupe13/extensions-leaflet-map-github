# Extensions for Leaflet Map Github Version

Contributors: hupe13    
Tags: leaflet, gpx, geojson, hover, marker   
Tested up to: 6.9  
Stable tag: 4.8    
Requires at least: 6.3     
Requires PHP: 8.1     
License: GPLv2 or later

Extends the WordPress Plugin <a href="https://wordpress.org/plugins/leaflet-map/">Leaflet Map</a> with Leaflet Plugins and other functions.

## Description

Extends the WordPress Plugin <a href="https://wordpress.org/plugins/leaflet-map/">Leaflet Map</a> with Leaflet Plugins and other functions.

This is the Github Version.

[Differences](changes.md) to the <a href="https://wordpress.org/plugins/extensions-leaflet-map/">WordPress version</a>.
Releases are the same as the WordPress versions. If you want test the Github version, download from [tags](https://github.com/hupe13/extensions-leaflet-map-github/tags).

Please install [ghu-update-puc](https://github.com/hupe13/ghu-update-puc) to get updates and keep an eye on this repository in case I've made any mistakes.

### Functions

### Deutsch

* Erstelle ein Höhenprofil eines Tracks. Es gibt ebenso Beschleunigungsdiagramm, Steigungsdiagramm, Geschwindigkeitsdiagramm, Tempodiagramm. Du kannst auch mehrere Tracks auf einer Karte darstellen.

* Standardmäßig verwendet Leaflet Map die Kacheln von openstreetmap.org bzw. die von dir konfigurierten Kachelserver. Du kannst weitere verwenden und zwischen ihnen umschalten.

* Viele Marker auf einer Karte werden unübersichtlich. Du kannst sie clustern und gestalten.

* Du kannst Awesome-Markers verwenden.

* Du kannst Elemente auf der Karte nach Kriterien gruppieren und ein- und ausblenden.

* Erstelle eine Übersichtskarte mit den auf den Seiten und Beiträgen hinterlegten Geopositionen.

* Erhalte einen Tooltip beim Überfahren eines Elementes mit der Maus.

* Du kannst eine Choropleth-Karte gestalten.

* Du kannst dir die Karte im Vollbildmodus anzeigen lassen.

* Setze die Karte zurück.

* Gestensteuerung.

* Verwalte deine Dateien für Leaflet Map.

* Hilfe zum Migrieren von [WP GPX Maps](https://wordpress.org/plugins/wp-gpx-maps/).

* und weitere Funktionen.

### English

* Create an elevation chart profile of a track. There are also acceleration, slope, speed and tempo chart profiles. You can also place multiple tracks on one map.

* By default Leaflet Map uses tiles from openstreetmap.org or from the tile servers you configured. You can use more and switch between them.

* Many markers on a map become confusing. You can cluster and shape them.

* You can use Awesome markers.

* You can group the elements on the map by criteria and show/hide them.

* Create an overview map with geo-locations provided in the pages and posts.

* Get a tooltip when hovering over an element.

* You can design a choropleth map.

* You can display the map in fullscreen mode.

* Reset the map.

* Gesture handling

* Manage your files for Leaflet Map.

* Help to migrate from [WP GPX Maps](https://wordpress.org/plugins/wp-gpx-maps/).

* and more functions.

### Included Leaflet Plugins and fonts

#### Leaflet Plugins

* [leaflet-elevation](https://github.com/Raruto/leaflet-elevation): A Leaflet plugin that allows to add elevation profiles using d3js.
* [Leaflet.GeometryUtil](https://github.com/makinacorpus/Leaflet.GeometryUtil)
* [Leaflet.i18n](https://github.com/yohanboniface/Leaflet.i18n): Internationalisation module for Leaflet plugins.
* [leaflet-rotate](https://github.com/Raruto/leaflet-rotate): A Leaflet plugin that allows to add rotation functionality to map tiles
* [Leaflet.AlmostOver](https://github.com/makinacorpus/Leaflet.AlmostOver): This plugin allows to detect mouse click and overing events on lines, with a tolerance distance.
* [@tmcw/togeojson](https://www.npmjs.com/package/@tmcw/togeojson): Convert KML, GPX, and TCX to GeoJSON.
* [D3](https://github.com/d3/d3): Data-Driven Documents
* [Leaflet-providers](https://github.com/leaflet-extras/leaflet-providers): An extension that contains configurations for various tile providers.
* [Leaflet.Control.Opacity](https://github.com/dayjournal/Leaflet.Control.Opacity): Makes multiple tile layers transparent.
* [Leaflet.markercluster](https://github.com/Leaflet/Leaflet.markercluster): Provides Beautiful Animated Marker Clustering functionality.
* [Leaflet.MarkerCluster.PlacementStrategies](https://github.com/adammertel/Leaflet.MarkerCluster.PlacementStrategies): Styling Markerclusters.
* [Leaflet.ExtraMarkers](https://github.com/coryasilva/Leaflet.ExtraMarkers): Shameless copy of Awesome-Markers with more shapes and colors.
* [Leaflet List Markers](https://github.com/hupe13/leaflet-list-markers): A Leaflet Control for listing visible markers in the map.
* [Leaflet.FeatureGroup.SubGroup](https://github.com/ghybs/Leaflet.FeatureGroup.SubGroup): Grouping of Leaflet elements by options and features.
* [Leaflet.Control.Layers.Tree](https://github.com/jjimenezshaw/Leaflet.Control.Layers.Tree): A Tree Layers Control for Leaflet.
* [Leaflet Control Search](https://github.com/stefanocudini/leaflet-search): Search Markers/Features location by option or custom property.
* [leaflet-choropleth](https://github.com/timwis/leaflet-choropleth): Choropleth plugin for Leaflet (color scale based on value).
* [leaflet.zoomhome](https://github.com/torfsen/leaflet.zoomhome): Provides a zoom control with a "Home" button to reset the view.
* [leaflet.fullscreen](https://github.com/brunob/leaflet.fullscreen): Simple plugin for Leaflet that adds fullscreen button to your maps.
* [Leaflet.GestureHandling](https://github.com/Raruto/leaflet-gesture-handling): A Leaflet plugin that allows to prevent default map scroll/touch behaviours.
* [turf](https://github.com/Turfjs/turf): Advanced geospatial analysis for browsers and Node.js

#### Font

* [Font Awesome 6](https://fontawesome.com/download)

## Screenshots

1. Track with elevation and speed profiles <br>![Track with elevation profile](.wordpress-org/screenshot-1.png)
2. ExtraMarkers <br>![ExtraMarkers](.wordpress-org/screenshot-2.png)
3. Grouping and Tree View <br>![Grouping and Tree View](.wordpress-org/screenshot-3.png)
4. Markercluster PlacementStrategies <br>![Markercluster PlacementStrategies](.wordpress-org/screenshot-4.png)
5. Tooltip on Hover <br>![Tooltip on Hover](.wordpress-org/screenshot-5.png)
6. Manage Leaflet Map files <br>![Manage Leaflet Map files](.wordpress-org/screenshot-6.png)

## Documentation

Detailed documentation and examples in <a href="https://leafext.de/">German</a> and <a href="https://leafext.de/en/">English</a>.

## Thank you

Many thanks to everyone who found errors and provided ideas for new functions.

## Frequently Asked Questions

<p>
<details>
<summary>
<b>Is there a widget or other support for the editor?</b>
</summary>

* Unfortunately both plugins - Leaflet Map and Extensions for Leaflet Map - only work with shortcodes.
* If you have any questions please ask in the [forum](https://wordpress.org/support/plugin/extensions-leaflet-map/).
</details>

<details>
<summary>
<b>My gpx file is not displayed!</b>
</summary>

* Is the URL correct?
* Does the webserver return the correct mime type (application/gpx+xml)?
Put in your `.htaccess`:
```
AddType application/gpx+xml gpx
RewriteRule .*\.gpx$ - [L,T=application/gpx+xml]
```
</details>

<details>
<summary>
<b>It doesn't work!</b>
</summary>

* Are you using any caching plugin? Try to exclude at least these js files from caching:

 - /wp-content/plugins/extensions-leaflet-map/leaflet-plugins/leaflet-elevation-*
 - /wp-content/plugins/extensions-leaflet-map/leaflet-plugins/leaflet-gesture-handling-*

* Are you using any plugin to comply with the GDPR/DSGVO? There might be a problem with that.
* If you use a caching plugin and a GDPR/DSGVO plugin you need to distinguish whether the user has accepted the cookie or not.
* Please ask in the [forum](https://wordpress.org/support/plugin/extensions-leaflet-map/)!
</details>

<details>
<summary>
<b>Apropos GDPR/DSGVO</b>
</summary>

* If you need a plugin for this try [DSGVO snippet for Leaflet Map and its Extensions](https://wordpress.org/plugins/dsgvo-leaflet-map/).
* If you use [Complianz | GDPR/CCPA Cookie Consent](https://wordpress.org/plugins/complianz-gdpr/) see [here](https://complianz.io/leaflet-maps/).
</details>
</p>

## Installation

* First you need to install and configure the plugin <a href="https://wordpress.org/plugins/leaflet-map/">Leaflet Map</a>.
* Then install this plugin.
* Go to Settings - Leaflet Map - Extensions for Leaflet Map and get documentation and settings options.

## Changelog

### 4.9 / 251114

* XSS security issues resolved.
* Plugin Check Plugin error: load_plugin_textdomain -> load_textdomain_mofile
* PCP V 1.7.0 passed
* Tested with WordPress 6.9

### Previous

[Changelog](https://github.com/hupe13/extensions-leaflet-map-github/blob/main/CHANGELOG.md)
